/* lib/styles.css */
@keyframes simpleboxFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
dialog.simplebox-modal {
  --sbm-modal-margin-desktop: var(--simplebox-modal-margin-mobile, 2rem);
  --sbm-modal-margin-mobile: var(--simplebox-modal-margin-desktop, .5rem);
  --sbm-backdrop-color: var(--simplebox-backdrop-color, rgb(0 0 0 / .8));
  --sbm-transition-time: var(--simplebox-transition-time, .2s);
  --sbm-btn-size: var(--simplebox-btn-size, 2.5rem);
  --sbm-btn-border-size: var(--simplebox-btn-border-size, 2px);
  --sbm-btn-border-color: var(--simplebox-btn-border-color, rgb(255 255 255));
  --sbm-btn-hover-border-color: var(--simplebox-btn-hover-border-color, rgb(255 255 255));
  --sbm-btn-icon-color: var(--simplebox-btn-icon-color, rgb(255 255 255));
  --sbm-btn-hover-icon-color: var(--simplebox-btn-hover-icon-color, rgb(0 0 0));
  --sbm-btn-bg: var(--simplebox-btn-bg, rgb(0 0 0));
  --sbm-btn-hover-bg: var(--simplebox-btn-hover-bg, rgb(255 255 255));
  --sbm-btn-transition-time: var(--simplebox-btn-transition-time, .2s);
  --sbm-description-bg: var(--simplebox-description-bg, rgb(0 0 0 / .8));
  --sbm-description-color: var(--simplebox-description-color, #fff);
  --sbm-thumb-top-margin: var(--simplebox-thumb-top-margin, .5rem);
  --sbm-thumb-height: var(--simplebox-thumb-height, 5rem);
  --sbm-thumb-height-tall-screen: var(--simplebox-thumb-height-tall-screen, 7rem);
  --sbm-thumb-top-margin: var(--simplebox-thumb-top-margin, 1rem);
  --sbm-thumb-border-size: var(--simplebox-thumb-border-size, );
  --sbm-thumb-active-border-color: var(--simplebox-thumb-active-border-color, #fff);
  @media screen and (width > 50rem) {
    --sbm-modal-margin: var(--sbm-modal-margin-desktop);
  }
  @media screen and (width <= 50rem) {
    --sbm-modal-margin: var(--sbm-modal-margin-mobile);
  }
  @media screen and (max-aspect-ratio: 2/3) {
    --sbm-thumb-height: var(--sbm-thumb-height-tall-screen);
  }
  box-sizing: border-box;
  border: 0;
  margin: 0;
  min-width: 100dvw;
  width: 100dvw;
  min-height: 100dvh;
  height: 100dvh;
  padding: var(--sbm-modal-margin);
  background: transparent;
  overflow: clip;
  &::backdrop {
    background: var(--sbm-backdrop-color);
  }
  & * {
    transition: all var(--sbm-transition-time) ease-in-out;
  }
  & button {
    box-sizing: border-box;
    cursor: pointer;
    height: var(--sbm-btn-size);
    width: var(--sbm-btn-size);
    border: var(--sbm-btn-border-size) solid var(--sbm-btn-border-color);
    border-radius: 50%;
    background: var(--sbm-btn-bg);
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all var(--sbm-btn-transition-time) ease-in-out;
    > svg {
      display: inline-flex;
      flex: 0 0 50%;
      max-width: 50%;
      max-height: 50%;
      object-fit: contain;
      color: var(--sbm-btn-icon-color);
    }
    &:hover,
    &:active {
      background: var(--sbm-btn-hover-bg);
      border-color: var(--sbm-btn-hover-border-color);
      > svg {
        color: var(--sbm-btn-hover-icon-color);
      }
    }
    &[data-sbm-ref=prev-btn] {
      transform: rotate(180deg);
    }
  }
  .simplebox-modal__outer-body {
    display: flex;
    flex-flow: row nowrap;
    justify-content: stretch;
    align-items: stretch;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    min-height: 100%;
    & button[data-sbm-ref=close-btn] {
      position: absolute;
      top: var(--sbm-modal-margin);
      right: var(--sbm-modal-margin);
    }
  }
  .simplebox-modal__height-shim {
    width: calc(100% - var(--sbm-btn-size));
    height: calc(100% - var(--sbm-btn-size));
    margin: calc(var(--sbm-btn-size) / 2);
    display: flex;
    flex-flow: row nowrap;
    justify-content: stretch;
    align-items: stretch;
  }
  .simplebox-modal__inner-body {
    position: relative;
    padding: 0;
    display: flex;
    flex-flow: row nowrap;
    justify-content: stretch;
    align-items: stretch;
    width: 100%;
    height: 100%;
    .simplebox-modal__content-wrapper {
      --sbm-content-max-height: calc(100% - var(--sbm-thumb-height) - var(--sbm-thumb-top-margin));
      display: flex;
      flex-flow: column nowrap;
      justify-content: stretch;
      align-items: stretch;
      width: 100%;
      height: 100%;
      &.simplebox-modal__content-wrapper--no-thumbs {
        --sbm-content-max-height: 100%;
        .simplebox-modal__thumbs {
          display: none;
        }
      }
    }
    .simplebox-modal__nav {
      --sbm-btn-pad: 1.5rem;
      --sbm-btn-pos: calc((-1 * var(--sbm-btn-pad)) + (-1 * (var(--sbm-btn-size) / 2)));
      position: absolute;
      top: calc(50% - calc(var(--sbm-btn-size) / 2));
      height: auto;
      padding: var(--sbm-btn-pad);
      display: flex;
      justify-content: center;
      align-items: center;
      &:nth-child(1 of .simplebox-modal__nav) {
        left: var(--sbm-btn-pos);
      }
      &:nth-child(2 of .simplebox-modal__nav) {
        right: var(--sbm-btn-pos);
      }
    }
    .simplebox-modal__content {
      flex: 1 1 auto;
      display: flex;
      flex-flow: column nowrap;
      justify-content: center;
      align-items: center;
      position: relative;
      max-height: var(--sbm-content-max-height);
      & img {
        display: inline-block;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        object-position: center;
      }
      & iframe,
      video {
        width: calc(100% - 2rem - (2 * var(--sbm-btn-size)));
        height: 100%;
        align-self: center;
      }
      & p {
        --sbm-alpha-bg: color(from var(--sbm-description-bg) srgb r g b / 0);
        width: 100%;
        position: absolute;
        bottom: 0;
        background: var(--sbm-description-bg);
        color: var(--sbm-description-color);
        margin: 0;
        padding: 1em;
        overflow-y: auto;
        max-height: 6rem;
        &[data-collapsed] {
          max-height: 2rem;
          mask-image:
            linear-gradient(
              to top,
              var(--sbm-alpha-bg),
              var(--sbm-description-bg));
          overflow-y: clip;
        }
      }
    }
    .simplebox-modal__thumbs {
      flex: 0 0 auto;
      display: flex;
      flex-flow: row nowrap;
      justify-content: flex-start;
      gap: 1rem;
      max-height: var(--sbm-thumb-height);
      align-self: stretch;
      margin: var(--sbm-thumb-top-margin) 0 0 0;
      overflow: auto clip;
      .simplebox-modal__thumb {
        box-sizing: border-box;
        cursor: pointer;
        height: var(--sbm-thumb-height);
        flex: 0 0 var(--sbm-thumb-height);
        border: var(--sbm-thumb-border-size) solid transparent;
        &.simplebox-modal__thumb--active {
          border-color: var(--sbm-thumb-active-border-color);
        }
        & img {
          box-sizing: border-box;
          display: block;
          object-fit: cover;
          object-position: center;
          height: 100%;
          max-height: 100%;
          aspect-ratio: 1 / 1;
          width: unset;
          max-width: unset;
        }
      }
    }
  }
}
